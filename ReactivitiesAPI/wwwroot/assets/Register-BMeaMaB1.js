import{aP as p,aA as d,B as j,D as h,aQ as w,ao as b,aI as P,j as e,U as m,aJ as i,W as u,H as S,E as v,P as E,af as l,O as N}from"./index-De8AI2Zv.js";import{c as R}from"./index-BoNgdhHe.js";const z=p.object({displayName:d("Name"),email:p.string().nonempty({error:"Email is required"}).email(),password:d("Password"),confirmPassword:d("Confirm Password")}).refine(a=>a.password===a.confirmPassword,{error:"Passwords do not match",path:["confirmPassword"]}),C=()=>{const a=j(),{mutate:n,isPending:o}=h({mutationFn:async t=>await R(t),onSuccess:()=>{w.success("Success! Your account is ready."),a("/login")}});return{registration:n,isPending:o}};function I(){const{registration:a,isPending:n}=C(),{control:o,handleSubmit:t,setError:r,formState:{isValid:x,isSubmitting:f}}=b({mode:"onTouched",resolver:P(z),defaultValues:{displayName:"",email:"",password:"",confirmPassword:""}}),g=async y=>{await a(y,{onError:c=>{console.log(c),Array.isArray(c)&&c.forEach(s=>{s.includes("DisplayName")&&r("displayName",{message:s}),(s.includes("Username")||s.includes("Email"))&&r("email",{message:s}),s.includes("password")&&r("email",{message:s})})}})};return e.jsxs(m,{component:"form",display:"flex",flexDirection:"column",gap:1,width:"100%",onSubmit:t(g),children:[e.jsx(i,{label:"Name",name:"displayName",control:o}),e.jsx(i,{label:"Email",name:"email",control:o}),e.jsx(i,{type:"password",label:"Password",name:"password",control:o}),e.jsx(i,{type:"password",label:"Confirm Password",name:"confirmPassword",control:o}),e.jsxs(m,{display:"flex",justifyContent:"space-between",children:[e.jsxs(u,{fontSize:"13px",color:"text.secondary",children:["Already have account?"," ",e.jsx(u,{component:S,to:"/login",color:"text.default",fontSize:"inherit",children:"Login"})]}),e.jsx(v,{variant:"contained",type:"submit",disabled:!x||f||n,children:"Create account"})]})]})}function A(){return e.jsx(E,{elevation:3,sx:{flexGrow:1,borderRadius:2},children:e.jsxs(l,{container:!0,sx:{minHeight:"500px"},children:[e.jsx(l,{size:6,sx:{backgroundImage:"url(/images/categoryImages/culture.jpg)",objectFit:"cover",backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",borderTopLeftRadius:8,borderBottomLeftRadius:8}}),e.jsx(l,{size:6,px:2,py:5,children:e.jsxs(m,{display:"flex",flexDirection:"column",gap:1,alignItems:"center",justifyContent:"center",children:[e.jsx(u,{variant:"h4",color:"text.secondary",fontWeight:600,children:"Create your account"}),e.jsx(N,{color:"secondary"}),e.jsx(I,{})]})})]})})}export{A as default};
