import{s as Ut,u as Dt,r as h,j as e,c as Y,a as b,b as T,d as Gt,g as W,e as Z,f as m,h as R,i as S,k as j,I as vt,C as Vt,P as rt,m as X,l as it,n as lt,o as K,p as bt,q as qt,t as ct,v as pt,w as dt,x as Kt,y as Qt,G as Yt,M as k,N as Ct,A as st,z as Zt,B as mt,D as yt,E as Xt,L as I,F as St,H as ut,J as $,K as _t,O as Jt,Q as to,R as et,S as oo,T as eo,U as E,V as no,W as gt,X as ro,Y as so,Z as ao,_ as io,$ as kt,a0 as lo,a1 as co}from"./index-De8AI2Zv.js";import{u as po}from"./useUser-DpAKoteO.js";import{l as uo}from"./index-BoNgdhHe.js";import{L as jt,u as go,H as xo,a as fo}from"./HubConnectionBuilder-BLfKmNoL.js";import{S as ho}from"./SnackbarContext-Blu8L3Fz.js";import"./useIsAuthenticated-e_Uob3F-.js";const vo=Gt(),bo=Ut("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:n}=t;return[o.root,o[`maxWidth${b(String(n.maxWidth))}`],n.fixed&&o.fixed,n.disableGutters&&o.disableGutters]}}),Co=t=>Dt({props:t,name:"MuiContainer",defaultTheme:vo}),mo=(t,o)=>{const n=u=>W(o,u),{classes:r,fixed:s,disableGutters:l,maxWidth:a}=t,i={root:["root",a&&`maxWidth${b(String(a))}`,s&&"fixed",l&&"disableGutters"]};return T(i,n,r)};function yo(t={}){const{createStyledComponent:o=bo,useThemeProps:n=Co,componentName:r="MuiContainer"}=t,s=o(({theme:a,ownerState:i})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!i.disableGutters&&{paddingLeft:a.spacing(2),paddingRight:a.spacing(2),[a.breakpoints.up("sm")]:{paddingLeft:a.spacing(3),paddingRight:a.spacing(3)}}}),({theme:a,ownerState:i})=>i.fixed&&Object.keys(a.breakpoints.values).reduce((u,c)=>{const d=c,f=a.breakpoints.values[d];return f!==0&&(u[a.breakpoints.up(d)]={maxWidth:`${f}${a.breakpoints.unit}`}),u},{}),({theme:a,ownerState:i})=>({...i.maxWidth==="xs"&&{[a.breakpoints.up("xs")]:{maxWidth:Math.max(a.breakpoints.values.xs,444)}},...i.maxWidth&&i.maxWidth!=="xs"&&{[a.breakpoints.up(i.maxWidth)]:{maxWidth:`${a.breakpoints.values[i.maxWidth]}${a.breakpoints.unit}`}}}));return h.forwardRef(function(i,u){const c=n(i),{className:d,component:f="div",disableGutters:p=!1,fixed:v=!1,maxWidth:z="lg",classes:A,...O}=c,g={...c,component:f,disableGutters:p,fixed:v,maxWidth:z},x=mo(g,r);return e.jsx(s,{as:f,ownerState:g,className:Y(x.root,d),ref:u,...O})})}function So(t){return W("MuiAlert",t)}const xt=Z("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),ko=m(e.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),jo=m(e.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),Ao=m(e.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),wo=m(e.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),Mo=t=>{const{variant:o,color:n,severity:r,classes:s}=t,l={root:["root",`color${b(n||r)}`,`${o}${b(n||r)}`,`${o}`],icon:["icon"],message:["message"],action:["action"]};return T(l,So,s)},Bo=j(rt,{name:"MuiAlert",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:n}=t;return[o.root,o[n.variant],o[`${n.variant}${b(n.color||n.severity)}`]]}})(X(({theme:t})=>{const o=t.palette.mode==="light"?it:lt,n=t.palette.mode==="light"?lt:it;return{...t.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(K(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:o(t.palette[r].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${r}StandardBg`]:n(t.palette[r].light,.9),[`& .${xt.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(K(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:o(t.palette[r].light,.6),border:`1px solid ${(t.vars||t).palette[r].light}`,[`& .${xt.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(K(["dark"])).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:{fontWeight:t.typography.fontWeightMedium,...t.vars?{color:t.vars.palette.Alert[`${r}FilledColor`],backgroundColor:t.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[r].dark:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)}}}))]}})),zo=j("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),Lo=j("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),Po=j("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),ft={success:e.jsx(ko,{fontSize:"inherit"}),warning:e.jsx(jo,{fontSize:"inherit"}),error:e.jsx(Ao,{fontSize:"inherit"}),info:e.jsx(wo,{fontSize:"inherit"})},Io=h.forwardRef(function(o,n){const r=R({props:o,name:"MuiAlert"}),{action:s,children:l,className:a,closeText:i="Close",color:u,components:c={},componentsProps:d={},icon:f,iconMapping:p=ft,onClose:v,role:z="alert",severity:A="success",slotProps:O={},slots:g={},variant:x="standard",...y}=r,w={...r,color:u,severity:A,variant:x,colorSeverity:u||A},L=Mo(w),P={slots:{closeButton:c.CloseButton,closeIcon:c.CloseIcon,...g},slotProps:{...d,...O}},[H,_]=S("root",{ref:n,shouldForwardComponentProp:!0,className:Y(L.root,a),elementType:Bo,externalForwardedProps:{...P,...y},ownerState:w,additionalProps:{role:z,elevation:0}}),[N,F]=S("icon",{className:L.icon,elementType:zo,externalForwardedProps:P,ownerState:w}),[U,D]=S("message",{className:L.message,elementType:Lo,externalForwardedProps:P,ownerState:w}),[G,V]=S("action",{className:L.action,elementType:Po,externalForwardedProps:P,ownerState:w}),[M,J]=S("closeButton",{elementType:vt,externalForwardedProps:P,ownerState:w}),[tt,ot]=S("closeIcon",{elementType:Vt,externalForwardedProps:P,ownerState:w});return e.jsxs(H,{..._,children:[f!==!1?e.jsx(N,{...F,children:f||p[A]||ft[A]}):null,e.jsx(U,{...D,children:l}),s!=null?e.jsx(G,{...V,children:s}):null,s==null&&v?e.jsx(G,{...V,children:e.jsx(M,{size:"small","aria-label":i,title:i,color:"inherit",onClick:v,...J,children:e.jsx(tt,{fontSize:"small",...ot})})}):null]})});function $o(t){return W("MuiAppBar",t)}Z("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const Eo=t=>{const{color:o,position:n,classes:r}=t,s={root:["root",`color${b(o)}`,`position${b(n)}`]};return T(s,$o,r)},ht=(t,o)=>t?`${t?.replace(")","")}, ${o})`:o,Ro=j(rt,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:n}=t;return[o.root,o[`position${b(n.position)}`],o[`color${b(n.color)}`]]}})(X(({theme:t})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[100],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[100]),...t.applyStyles("dark",{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[900],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[900])})}},...Object.entries(t.palette).filter(K(["contrastText"])).map(([o])=>({props:{color:o},style:{"--AppBar-background":(t.vars??t).palette[o].main,"--AppBar-color":(t.vars??t).palette[o].contrastText}})),{props:o=>o.enableColorOnDark===!0&&!["inherit","transparent"].includes(o.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:o=>o.enableColorOnDark===!1&&!["inherit","transparent"].includes(o.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundColor:t.vars?ht(t.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:t.vars?ht(t.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundImage:"none"})}}]}))),Oo=h.forwardRef(function(o,n){const r=R({props:o,name:"MuiAppBar"}),{className:s,color:l="primary",enableColorOnDark:a=!1,position:i="fixed",...u}=r,c={...r,color:l,position:i,enableColorOnDark:a},d=Eo(c);return e.jsx(Ro,{square:!0,component:"header",ownerState:c,elevation:4,className:Y(d.root,s,i==="fixed"&&"mui-fixed"),ref:n,...u})}),At=yo({createStyledComponent:j("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:n}=t;return[o.root,o[`maxWidth${b(String(n.maxWidth))}`],n.fixed&&o.fixed,n.disableGutters&&o.disableGutters]}}),useThemeProps:t=>R({props:t,name:"MuiContainer"})}),nt=typeof bt({})=="function",To=(t,o)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...o&&!t.vars&&{colorScheme:t.palette.mode}}),Wo=t=>({color:(t.vars||t).palette.text.primary,...t.typography.body1,backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),wt=(t,o=!1)=>{const n={};o&&t.colorSchemes&&typeof t.getColorSchemeSelector=="function"&&Object.entries(t.colorSchemes).forEach(([l,a])=>{const i=t.getColorSchemeSelector(l);i.startsWith("@")?n[i]={":root":{colorScheme:a.palette?.mode}}:n[i.replace(/\s*&/,"")]={colorScheme:a.palette?.mode}});let r={html:To(t,o),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:{margin:0,...Wo(t),"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}},...n};const s=t.components?.MuiCssBaseline?.styleOverrides;return s&&(r=[r,s]),r},Q="mui-ecs",Ho=t=>{const o=wt(t,!1),n=Array.isArray(o)?o[0]:o;return!t.vars&&n&&(n.html[`:root:has(${Q})`]={colorScheme:t.palette.mode}),t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([r,s])=>{const l=t.getColorSchemeSelector(r);l.startsWith("@")?n[l]={[`:root:not(:has(.${Q}))`]:{colorScheme:s.palette?.mode}}:n[l.replace(/\s*&/,"")]={[`&:not(:has(.${Q}))`]:{colorScheme:s.palette?.mode}}}),o},No=bt(nt?({theme:t,enableColorScheme:o})=>wt(t,o):({theme:t})=>Ho(t));function Fo(t){const o=R({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=o;return e.jsxs(h.Fragment,{children:[nt&&e.jsx(No,{enableColorScheme:r}),!nt&&!r&&e.jsx("span",{className:Q,style:{display:"none"}}),n]})}function Uo(t={}){const{autoHideDuration:o=null,disableWindowBlurListener:n=!1,onClose:r,open:s,resumeHideDuration:l}=t,a=qt();h.useEffect(()=>{if(!s)return;function g(x){x.defaultPrevented||x.key==="Escape"&&r?.(x,"escapeKeyDown")}return document.addEventListener("keydown",g),()=>{document.removeEventListener("keydown",g)}},[s,r]);const i=ct((g,x)=>{r?.(g,x)}),u=ct(g=>{!r||g==null||a.start(g,()=>{i(null,"timeout")})});h.useEffect(()=>(s&&u(o),a.clear),[s,o,u,a]);const c=g=>{r?.(g,"clickaway")},d=a.clear,f=h.useCallback(()=>{o!=null&&u(l??o*.5)},[o,l,u]),p=g=>x=>{const y=g.onBlur;y?.(x),f()},v=g=>x=>{const y=g.onFocus;y?.(x),d()},z=g=>x=>{const y=g.onMouseEnter;y?.(x),d()},A=g=>x=>{const y=g.onMouseLeave;y?.(x),f()};return h.useEffect(()=>{if(!n&&s)return window.addEventListener("focus",f),window.addEventListener("blur",d),()=>{window.removeEventListener("focus",f),window.removeEventListener("blur",d)}},[n,s,f,d]),{getRootProps:(g={})=>{const x={...pt(t),...pt(g)};return{role:"presentation",...g,...x,onBlur:p(x),onFocus:v(x),onMouseEnter:z(x),onMouseLeave:A(x)}},onClickAway:c}}function Do(t){return W("MuiSnackbarContent",t)}Z("MuiSnackbarContent",["root","message","action"]);const Go=t=>{const{classes:o}=t;return T({root:["root"],action:["action"],message:["message"]},Do,o)},Vo=j(rt,{name:"MuiSnackbarContent",slot:"Root"})(X(({theme:t})=>{const o=t.palette.mode==="light"?.8:.98;return{...t.typography.body2,color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(dt(t.palette.background.default,o)),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:dt(t.palette.background.default,o),display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}}})),qo=j("div",{name:"MuiSnackbarContent",slot:"Message"})({padding:"8px 0"}),Ko=j("div",{name:"MuiSnackbarContent",slot:"Action"})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),Qo=h.forwardRef(function(o,n){const r=R({props:o,name:"MuiSnackbarContent"}),{action:s,className:l,message:a,role:i="alert",...u}=r,c=r,d=Go(c);return e.jsxs(Vo,{role:i,elevation:6,className:Y(d.root,l),ownerState:c,ref:n,...u,children:[e.jsx(qo,{className:d.message,ownerState:c,children:a}),s?e.jsx(Ko,{className:d.action,ownerState:c,children:s}):null]})});function Yo(t){return W("MuiSnackbar",t)}Z("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const Zo=t=>{const{classes:o,anchorOrigin:n}=t,r={root:["root",`anchorOrigin${b(n.vertical)}${b(n.horizontal)}`]};return T(r,Yo,o)},Xo=j("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:n}=t;return[o.root,o[`anchorOrigin${b(n.anchorOrigin.vertical)}${b(n.anchorOrigin.horizontal)}`]]}})(X(({theme:t})=>({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center",variants:[{props:({ownerState:o})=>o.anchorOrigin.vertical==="top",style:{top:8,[t.breakpoints.up("sm")]:{top:24}}},{props:({ownerState:o})=>o.anchorOrigin.vertical!=="top",style:{bottom:8,[t.breakpoints.up("sm")]:{bottom:24}}},{props:({ownerState:o})=>o.anchorOrigin.horizontal==="left",style:{justifyContent:"flex-start",[t.breakpoints.up("sm")]:{left:24,right:"auto"}}},{props:({ownerState:o})=>o.anchorOrigin.horizontal==="right",style:{justifyContent:"flex-end",[t.breakpoints.up("sm")]:{right:24,left:"auto"}}},{props:({ownerState:o})=>o.anchorOrigin.horizontal==="center",style:{[t.breakpoints.up("sm")]:{left:"50%",right:"auto",transform:"translateX(-50%)"}}}]}))),_o=h.forwardRef(function(o,n){const r=R({props:o,name:"MuiSnackbar"}),s=Kt(),l={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{action:a,anchorOrigin:{vertical:i,horizontal:u}={vertical:"bottom",horizontal:"left"},autoHideDuration:c=null,children:d,className:f,ClickAwayListenerProps:p,ContentProps:v,disableWindowBlurListener:z=!1,message:A,onBlur:O,onClose:g,onFocus:x,onMouseEnter:y,onMouseLeave:w,open:L,resumeHideDuration:P,slots:H={},slotProps:_={},TransitionComponent:N,transitionDuration:F=l,TransitionProps:{onEnter:U,onExited:D,...G}={},...V}=r,M={...r,anchorOrigin:{vertical:i,horizontal:u},autoHideDuration:c,disableWindowBlurListener:z,TransitionComponent:N,transitionDuration:F},J=Zo(M),{getRootProps:tt,onClickAway:ot}=Uo({...M}),[zt,at]=h.useState(!0),Lt=B=>{at(!0),D&&D(B)},Pt=(B,C)=>{at(!1),U&&U(B,C)},q={slots:{transition:N,...H},slotProps:{content:v,clickAwayListener:p,transition:G,..._}},[It,$t]=S("root",{ref:n,className:[J.root,f],elementType:Xo,getSlotProps:tt,externalForwardedProps:{...q,...V},ownerState:M}),[Et,{ownerState:Rt,...Ot}]=S("clickAwayListener",{elementType:Qt,externalForwardedProps:q,getSlotProps:B=>({onClickAway:(...C)=>{const Ft=C[0];B.onClickAway?.(...C),!Ft?.defaultMuiPrevented&&ot(...C)}}),ownerState:M}),[Tt,Wt]=S("content",{elementType:Qo,shouldForwardComponentProp:!0,externalForwardedProps:q,additionalProps:{message:A,action:a},ownerState:M}),[Ht,Nt]=S("transition",{elementType:Yt,externalForwardedProps:q,getSlotProps:B=>({onEnter:(...C)=>{B.onEnter?.(...C),Pt(...C)},onExited:(...C)=>{B.onExited?.(...C),Lt(...C)}}),additionalProps:{appear:!0,in:L,timeout:F,direction:i==="top"?"down":"up"},ownerState:M});return!L&&zt?null:e.jsx(Et,{...Ot,...H.clickAwayListener&&{ownerState:Rt},children:e.jsx(It,{...$t,children:e.jsx(Ht,{...Nt,children:d||e.jsx(Tt,{...Wt})})})})}),Jo=m(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m.06 17v-2.01H12c-1.28 0-2.56-.49-3.54-1.46-1.71-1.71-1.92-4.35-.64-6.29l1.1 1.1c-.71 1.33-.53 3.01.59 4.13.7.7 1.62 1.03 2.54 1.01v-2.14l2.83 2.83zm4.11-4.24-1.1-1.1c.71-1.33.53-3.01-.59-4.13C13.79 8.84 12.9 8.5 12 8.5h-.06v2.15L9.11 7.83 11.94 5v2.02c1.3-.02 2.61.45 3.6 1.45 1.7 1.7 1.91 4.35.63 6.29"})),te=m(e.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2"})),oe=m(e.jsx("path",{d:"M17 12h-5v5h5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1zm3 18H5V8h14z"})),ee=m(e.jsx("path",{d:"M2.81 2.81 1.39 4.22l2.27 2.27C2.61 8.07 2 9.96 2 12c0 5.52 4.48 10 10 10 2.04 0 3.93-.61 5.51-1.66l2.27 2.27 1.41-1.41zM12 20c-4.41 0-8-3.59-8-8 0-1.48.41-2.86 1.12-4.06l10.94 10.94C14.86 19.59 13.48 20 12 20M7.94 5.12 6.49 3.66C8.07 2.61 9.96 2 12 2c5.52 0 10 4.48 10 10 0 2.04-.61 3.93-1.66 5.51l-1.46-1.46C19.59 14.86 20 13.48 20 12c0-4.41-3.59-8-8-8-1.48 0-2.86.41-4.06 1.12"})),ne=m(e.jsx("path",{d:"M3 13h2v-2H3zm0 4h2v-2H3zm0-8h2V7H3zm4 4h14v-2H7zm0 4h14v-2H7zM7 7v2h14V7z"})),re=m(e.jsx("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"})),se=m(e.jsx("path",{d:"M7.58 4.08 6.15 2.65C3.75 4.48 2.17 7.3 2.03 10.5h2c.15-2.65 1.51-4.97 3.55-6.42m12.39 6.42h2c-.15-3.2-1.73-6.02-4.12-7.85l-1.42 1.43c2.02 1.45 3.39 3.77 3.54 6.42M18 11c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-6 11c.14 0 .27-.01.4-.04.65-.14 1.18-.58 1.44-1.18q.15-.36.15-.78h-4c.01 1.1.9 2 2.01 2"}));function ae({children:t,to:o}){return e.jsx(k,{component:Ct,to:o,sx:{fontSize:".8rem",textTransform:"uppercase",fontWeight:"500","&.active":{color:"#b39cd0"}},children:t})}function ie(){return e.jsx(k,{component:Ct,to:"/",sx:{display:"flex",gap:1,"&:hover":{backgroundColor:"transparent"}},children:e.jsx(st,{alt:"logo",src:"/images/logo.png",sx:{width:45,height:45}})})}const le=()=>{const t=Zt(),o=mt(),{mutate:n,isPending:r,error:s}=yt({mutationFn:async()=>await uo(),onSuccess:async()=>{await t.invalidateQueries({queryKey:["isAuthenticated"]}),await t.removeQueries({queryKey:["user"]}),await t.removeQueries({queryKey:["activities"]}),o("/")}});return{Logout:n,isPending:r,error:s}};function ce({DisplayName:t,ImageUrl:o,UserId:n}){const[r,s]=h.useState(null),l=!!r,{Logout:a,isPending:i}=le(),u=d=>{s(d.currentTarget)},c=()=>{s(null)};return e.jsxs("div",{children:[e.jsx(Xt,{onClick:u,color:"inherit",children:e.jsxs(k,{children:[e.jsx(jt,{children:e.jsx(st,{src:o,alt:t})}),e.jsx(I,{primary:t,slotProps:{primary:{textTransform:"none",fontSize:15}}})]})}),e.jsxs(St,{anchorEl:r,open:l,onClose:c,children:[e.jsxs(k,{component:ut,to:`/profile/${n}`,onClick:c,children:[e.jsx($,{children:e.jsx(_t,{})}),e.jsx(I,{children:"Profile"})]}),e.jsxs(k,{component:ut,to:"/createActivity",onClick:c,children:[e.jsx($,{children:e.jsx(oe,{})}),e.jsx(I,{children:"Create activity"})]}),e.jsxs(k,{onClick:c,children:[e.jsx($,{children:e.jsx(ne,{})}),e.jsx(I,{children:"Activities management"})]}),e.jsx(Jt,{}),e.jsxs(k,{onClick:c,children:[e.jsx($,{children:e.jsx(Jo,{})}),e.jsx(I,{children:"Change password"})]}),e.jsxs(k,{disabled:i,onClick:async()=>{await a(),c()},children:[e.jsx($,{children:e.jsx(re,{})}),e.jsx(I,{children:"Logout"})]})]})]})}const Mt=()=>{const t=h.useRef(!1),o=go(()=>({hubConnection:null,notifications:to.array([]),notifyAlert:!1,createHubConnection(){this.hubConnection=new fo().withUrl("/notifications",{withCredentials:!0}).withAutomaticReconnect().build(),this.hubConnection.start().catch(n=>console.log("Error connecting to server: ",n)),this.hubConnection.on("ReceiveNotification",n=>{et(()=>{this.notifications.unshift(n),this.notifyAlert=!0})}),this.hubConnection.on("LoadNotifications",n=>{et(()=>{this.notifications=n,this.notifyAlert=!1})})},stopHubConnection(){this.hubConnection?.state==xo.Connected&&this.hubConnection.stop().catch(n=>console.log("Error stopping connection: ",n))}}));return h.useEffect(()=>{t.current||(o.createHubConnection(),t.current=!0)},[o]),{storeNotification:o}};var Bt=(t=>(t[t.AddActivity=1]="AddActivity",t[t.AddComment=2]="AddComment",t[t.GoingToEvent=3]="GoingToEvent",t[t.CancelAttendence=4]="CancelAttendence",t[t.CancelledActivtiy=5]="CancelledActivtiy",t))(Bt||{});async function pe(t){return await oo.put(`/Notifications/hideNotification?id=${t}`).then(o=>o.data)}const de=()=>{const{storeNotification:t}=Mt(),{mutate:o,isPending:n,error:r}=yt({mutationFn:async s=>await pe(s),onSuccess:async(s,l)=>{console.log("Before:",t.notifications,"Remove:",l),et(()=>{t.notifications.replace(t.notifications.filter(a=>a.id!==l))}),console.log("After:",t.notifications)}});return{hideNotifications:o,loadinghideNotifications:n,error:r}};function ue({notifications:t,UserId:o,notifyAlert:n,storeNotification:r}){const s=t.filter(p=>p.notifierId!==o),[l,a]=h.useState(null),i=!!l,u=p=>{a(p.currentTarget)},c=mt(),{hideNotifications:d}=de(),f=()=>{a(null),r.notifyAlert=!1};return e.jsxs(eo.Fragment,{children:[e.jsx(E,{sx:{display:"flex",alignItems:"center",textAlign:"center"},children:e.jsx(no,{title:"Notifications",children:e.jsxs(vt,{onClick:u,size:"small",sx:{ml:2,position:"relative"},"aria-controls":i?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":i?"true":void 0,children:[e.jsx(se,{sx:{color:"white"}}),e.jsx(te,{sx:{fontSize:"8px",position:"absolute",top:12,color:n?"tomato":"white"}})]})})}),e.jsxs(St,{anchorEl:l,id:"account-menu",open:i,onClose:f,slotProps:{paper:{elevation:0,sx:{width:500,minHeight:370,maxHeight:400,overflowY:"scroll",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))","& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&::before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0},"&::-webkit-scrollbar":{width:"3px"},"&::-webkit-scrollbar-track":{backgroundColor:"#f0f0f0"},"&::-webkit-scrollbar-thumb":{backgroundColor:p=>p.palette.secondary.light},"&::-webkit-scrollbar-thumb:hover":{backgroundColor:p=>p.palette.secondary.main}}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[e.jsx(gt,{variant:"subtitle2",sx:{pb:"5px",display:"block",textAlign:"center",color:p=>`${p.palette.secondary.light}`,borderBottom:p=>`1px solid ${p.palette.divider}`},children:"Notifications"}),s.length===0&&e.jsx(gt,{variant:"body2",sx:{py:2,display:"block",color:"text.disabled",textAlign:"center"},children:"No notifications found..."}),s.map(p=>e.jsxs(k,{onClick:()=>{Bt.AddActivity===p.notificationTypeId&&c(`/activities/${p.activityId}`),f()},sx:v=>({position:"relative",bgcolor:v.palette.grey[100],borderBottomColor:v.palette.divider,borderBottomWidth:1,borderBottomStyle:"solid",whiteSpace:"pre-wrap",transition:"all  0.3s","&:hover":{bgcolor:v.palette.grey[200]}}),children:[e.jsx(jt,{sx:{minWidth:40},children:e.jsx(st,{src:p.notifierImageUrl,alt:`${p.notifierName} - image`})}),e.jsx(I,{primary:p.description,secondary:ro(p.createdAt),sx:{pt:2},slotProps:{primary:{fontSize:13,fontWeight:400,color:"textSecondary"},secondary:{textAlign:"right",fontSize:10}}}),e.jsx($,{sx:{position:"absolute",right:-10,transition:"all 0.3s","&:hover":{transform:"scale(1.3)"}},onClick:v=>{v.stopPropagation(),d(p.id)},children:e.jsx(ee,{sx:{fontSize:"13px",color:"text.disabled"}})})]},p.id))]})]})}const ge=so(function(){const{uiStore:o}=ao(),{currentUser:n,isLoading:r}=po(),{storeNotification:s}=Mt();return e.jsxs(E,{sx:{flexGrow:1},children:[e.jsx(Oo,{position:"fixed",sx:{backgroundColor:"#845ec2"},children:e.jsx(At,{maxWidth:"lg",disableGutters:!0,children:e.jsxs(io,{disableGutters:!0,sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(E,{children:e.jsx(ie,{})}),e.jsxs(E,{sx:{display:"flex"},children:[e.jsx(ae,{to:"/activities",children:"Activities"}),r&&e.jsx(k,{sx:{fontSize:".8rem",textTransform:"uppercase",fontWeight:"500"},children:"Loading..."}),n&&e.jsxs(e.Fragment,{children:[e.jsx(ue,{notifications:s.notifications,notifyAlert:s.notifyAlert,UserId:n.id,storeNotification:s}),e.jsx(ce,{DisplayName:n.displayName,ImageUrl:n.imageUrl,UserId:n.id})]})]})]})})}),o.isLoading&&e.jsx(e.Fragment,{children:e.jsx(kt,{size:20,color:"secondary",sx:{position:"fixed",top:75,left:"50%",transform:"translate(-50%, -50%)"}})})]})});function xe({children:t}){const[o,n]=h.useState(!1),[r,s]=h.useState(""),[l,a]=h.useState("info"),[i,u]=h.useState(3e3),c=(f,p="info",v=3e3)=>{s(f),a(p),u(v),n(!0)},d=()=>n(!1);return e.jsxs(ho.Provider,{value:{showSnackbar:c},children:[t,e.jsx(_o,{open:o,autoHideDuration:i,onClose:d,anchorOrigin:{vertical:"top",horizontal:"right"},children:e.jsx(Io,{onClose:d,severity:l,sx:{width:"100%"},children:r})})]})}function fe(){return e.jsx(E,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#845ec2"},children:e.jsx(kt,{size:"3rem",color:"inherit"})})}function Se(){return e.jsx(h.Suspense,{fallback:e.jsx(fe,{}),children:e.jsx(xe,{children:e.jsxs(E,{sx:{minHeight:"100vh",backgroundColor:"#eeeeee"},children:[e.jsx(lo,{}),e.jsx(Fo,{}),e.jsx(ge,{}),e.jsx(At,{maxWidth:"lg",sx:{pt:13},children:e.jsx(co,{})})]})})})}export{Se as default};
